      SUBROUTINE TIMPR(KFILDS,KFILDO,ITITLE) 
C 
C        JANUARY 1994   CHAMBERS, GLAHN   TDL  MOS-2000
C        APRIL   2000   DALLAVALLE   MODIFIED SUBROUTINE TO
C                                    USE IBM SP SUBROUTINES
C                                    TO OBTAIN DATE AND TIME;
C                                    ALSO MODIFIED FORMAT
C                                    STATEMENT TO CORRESPOND
C                                    TO FORTRAN 90 STANDARDS
C                                    ON THE IBM SP
C 
C        PURPOSE 
C            A DATE/TIME STAMPING FUNCTION WHICH WILL WRITE THE DATE AND
C            TIME AND A USER MESSAGE OF UP TO 20 CHARACTERS ON UNIT 
C            NO. KFILDO.  UNDER THE D COMPILER OPTION, MESSAGE WILL 
C            ALSO BE WRITTEN TO THE CURRENT CONSOLE, UNIT NO. KFILDS
C            (ONLY) WHEN KFILDS NE KFILDO. 
C 
C        DATA SET USE 
C            KFILDS - UNIT NUMBER FOR OUTPUT TO CURRENT CONSOLE.  (OUTPUT) 
C            KFILDO - OUTPUT (PRINT) FILE UNIT NUMBER.  (OUTPUT) 
C 
C        VARIABLES 
C 
C            INPUT 
C              KFILDS = UNIT NUMBER FOR OUTPUT TO CURRENT CONSOLE. 
C              KFILDO = OUTPUT (PRINT) FILE UNIT NUMBER. 
C              ITITLE = USER MESSAGE.  (CHARACTER*20) 
C 
C            INTERNAL 
C                DATE = DATE (CCYYMMDD FORMAT, WHERE CC IS THE
C                       CENTURY, YY IS THE YEAR OF THE CENTURY,
C                       MM IS THE MONTH OF THE YEAR, AND DD
C                       IS THE DAY OF THE MONTH).  (CHARACTER*8)
C                TIME = TIME (HHMMSS.SSS FORMAT, WHERE HH IS
C                       HOUR (LOCAL TIME), MM IS THE MINUTES 
C                       OF THE HOUR, SS IS THE SECONDS OF THE
C                       MINUTE, AND.SSS IS THE MILLISECONDS
C                       OF THE MINUTE).  (CHARACTER*10)
C 
C        NONSYSTEM SUBROUTINES CALLED 
C            NONE. 
C 
      CHARACTER*8 DATE
      CHARACTER*10 TIME
      CHARACTER*20 ITITLE
C 
      CALL DATE_AND_TIME(DATE,TIME)
      WRITE(KFILDO,110)ITITLE,DATE,TIME
 110  FORMAT(' ',A20,'   DATE/TIME:  ',A8,2X,A10)
      RETURN 
      END 

FCOMP="ftn"

case ${COMP:?} in
  intel)
    flagOpt="-O3 -ip -fp-model strict -openmp"
    flagDebug="-traceback"
    flagInt="-integer-size "
    flagReal="-real-size "
  ;;
  cray)
    flagOpt="-O2"
    flagDebug="-G2"
    flagInt="-s integer"
    flagReal="-s real"
  ;;
  *)
    >&2 echo "Don't know how to build lib under ${COMP} compiler"
    exit 1
  ;;
esac

FFLAGS_4_DEBUG="-check all ${flagDebug} -fpe0 -ftrapuv -g ${flagReal}32 ${flagInt}32"
FFLAGS_4="${flagOpt} ${flagReal}32 ${flagInt}32"
FFLAGS_8_DEBUG="-check all ${flagDebug} -fpe0 -ftrapuv -g ${flagReal}64 ${flagInt}64"
FFLAGS_8="${flagOpt} ${flagReal}64 ${flagInt}64"
FFLAGS_D_DEBUG="-check all ${flagDebug} -fpe0 -ftrapuv -g ${flagReal}64 ${flagInt}32"
FFLAGS_D="${flagOpt} ${flagReal}64 ${flagInt}32"
AFLAGS=" "

